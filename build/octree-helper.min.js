/**
 * octree-helper v0.10.0 build Thu Aug 02 2018
 * https://github.com/vanruesc/octree-helper
 * Copyright 2018 Raoul van RÃ¼schen, Zlib
 */
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b(require('three')):'function'==typeof define&&define.amd?define(['three'],b):a.OCTREEHELPER=b(a.THREE)})(this,function(a){'use strict';var b=function(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')},c=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),d=function(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},e=function(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a},f=function(f){function i(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;b(this,i);var c=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return c.name='OctreeHelper',c.octree=a,c.update(),c}return d(i,f),c(i,[{key:'createLineSegments',value:function(b,e){var f=new a.Group,k=new a.LineBasicMaterial({color:16777215*Math.random()}),l=void 0,m=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0;for(v=0,o=0,z=Math.ceil(e/8191);0<z;--z){for(o+=8191>e?e:8191,e-=8191,m=8*o,p=new Uint16Array(3*m),q=new Float32Array(3*m),(x=0,y=0,l=b.next());!l.done&&v<o;){for(r=l.value,s=r.min,t=r.max,w=0;12>w;++w)B=h[w],p[y++]=x+B[0],p[y++]=x+B[1];for(w=0;8>w;++w,++x)A=g[w],q[3*x]=0===A[0]?s.x:t.x,q[3*x+1]=0===A[1]?s.y:t.y,q[3*x+2]=0===A[2]?s.z:t.z;++v<o&&(l=b.next())}u=new a.BufferGeometry,u.setIndex(new a.BufferAttribute(p,1)),u.addAttribute('position',new a.BufferAttribute(q,3)),f.add(new a.LineSegments(u,k))}this.add(f)}},{key:'update',value:function(){var a=null===this.octree?-1:this.octree.getDepth(),b=0,c=void 0;for(this.dispose();b<=a;)c=this.octree.findOctantsByLevel(b),this.createLineSegments(c[Symbol.iterator](),'number'==typeof c.size?c.size:c.length),++b}},{key:'dispose',value:function(){var a=this.children,b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0;for(d=0,f=a.length;d<f;++d){for(b=a[d],c=b.children,(e=0,g=c.length);e<g;++e)c[e].geometry.dispose(),c[e].material.dispose();for(;0<c.length;)b.remove(c[0])}for(;0<a.length;)this.remove(a[0])}}]),i}(a.Group),g=[new Uint8Array([0,0,0]),new Uint8Array([0,0,1]),new Uint8Array([0,1,0]),new Uint8Array([0,1,1]),new Uint8Array([1,0,0]),new Uint8Array([1,0,1]),new Uint8Array([1,1,0]),new Uint8Array([1,1,1])],h=[new Uint8Array([0,4]),new Uint8Array([1,5]),new Uint8Array([2,6]),new Uint8Array([3,7]),new Uint8Array([0,2]),new Uint8Array([1,3]),new Uint8Array([4,6]),new Uint8Array([5,7]),new Uint8Array([0,1]),new Uint8Array([2,3]),new Uint8Array([4,5]),new Uint8Array([6,7])];return f});
